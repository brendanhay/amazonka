{-# LANGUAGE DeriveGeneric #-}
{-# LANGUAGE DuplicateRecordFields #-}
{-# LANGUAGE NamedFieldPuns #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE RecordWildCards #-}
{-# LANGUAGE StrictData #-}
{-# LANGUAGE NoImplicitPrelude #-}
{-# OPTIONS_GHC -fno-warn-unused-imports #-}
{-# OPTIONS_GHC -fno-warn-unused-matches #-}

-- Derived from AWS service descriptions, licensed under Apache 2.0.

-- |
-- Module      : Amazonka.Pi.Types.DimensionGroup
-- Copyright   : (c) 2013-2021 Brendan Hay
-- License     : Mozilla Public License, v. 2.0.
-- Maintainer  : Brendan Hay <brendan.g.hay+amazonka@gmail.com>
-- Stability   : auto-generated
-- Portability : non-portable (GHC extensions)
module Amazonka.Pi.Types.DimensionGroup where

import qualified Amazonka.Core as Core
import qualified Amazonka.Lens as Lens
import qualified Amazonka.Prelude as Prelude

-- | A logical grouping of Performance Insights metrics for a related subject
-- area. For example, the @db.sql@ dimension group consists of the
-- following dimensions: @db.sql.id@, @db.sql.db_id@, @db.sql.statement@,
-- and @db.sql.tokenized_id@.
--
-- Each response element returns a maximum of 500 bytes. For larger
-- elements, such as SQL statements, only the first 500 bytes are returned.
--
-- /See:/ 'newDimensionGroup' smart constructor.
data DimensionGroup = DimensionGroup'
  { -- | A list of specific dimensions from a dimension group. If this parameter
    -- is not present, then it signifies that all of the dimensions in the
    -- group were requested, or are present in the response.
    --
    -- Valid values for elements in the @Dimensions@ array are:
    --
    -- -   @db.application.name@ - The name of the application that is
    --     connected to the database (only Aurora PostgreSQL and RDS
    --     PostgreSQL)
    --
    -- -   @db.host.id@ - The host ID of the connected client (all engines)
    --
    -- -   @db.host.name@ - The host name of the connected client (all engines)
    --
    -- -   @db.name@ - The name of the database to which the client is
    --     connected (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS
    --     MySQL, and MariaDB)
    --
    -- -   @db.session_type.name@ - The type of the current session (only
    --     Aurora PostgreSQL and RDS PostgreSQL)
    --
    -- -   @db.sql.id@ - The SQL ID generated by Performance Insights (all
    --     engines)
    --
    -- -   @db.sql.db_id@ - The SQL ID generated by the database (all engines)
    --
    -- -   @db.sql.statement@ - The SQL text that is being executed (all
    --     engines)
    --
    -- -   @db.sql.tokenized_id@
    --
    -- -   @db.sql_tokenized.id@ - The SQL digest ID generated by Performance
    --     Insights (all engines)
    --
    -- -   @db.sql_tokenized.db_id@ - SQL digest ID generated by the database
    --     (all engines)
    --
    -- -   @db.sql_tokenized.statement@ - The SQL digest text (all engines)
    --
    -- -   @db.user.id@ - The ID of the user logged in to the database (all
    --     engines)
    --
    -- -   @db.user.name@ - The name of the user logged in to the database (all
    --     engines)
    --
    -- -   @db.wait_event.name@ - The event for which the backend is waiting
    --     (all engines)
    --
    -- -   @db.wait_event.type@ - The type of event for which the backend is
    --     waiting (all engines)
    --
    -- -   @db.wait_event_type.name@ - The name of the event type for which the
    --     backend is waiting (all engines)
    dimensions :: Prelude.Maybe (Prelude.NonEmpty Prelude.Text),
    -- | The maximum number of items to fetch for this dimension group.
    limit :: Prelude.Maybe Prelude.Natural,
    -- | The name of the dimension group. Valid values are:
    --
    -- -   @db@ - The name of the database to which the client is connected
    --     (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS MySQL,
    --     and MariaDB)
    --
    -- -   @db.application@ - The name of the application that is connected to
    --     the database (only Aurora PostgreSQL and RDS PostgreSQL)
    --
    -- -   @db.host@ - The host name of the connected client (all engines)
    --
    -- -   @db.session_type@ - The type of the current session (only Aurora
    --     PostgreSQL and RDS PostgreSQL)
    --
    -- -   @db.sql@ - The SQL that is currently executing (all engines)
    --
    -- -   @db.sql_tokenized@ - The SQL digest (all engines)
    --
    -- -   @db.wait_event@ - The event for which the database backend is
    --     waiting (all engines)
    --
    -- -   @db.wait_event_type@ - The type of event for which the database
    --     backend is waiting (all engines)
    --
    -- -   @db.user@ - The user logged in to the database (all engines)
    group' :: Prelude.Text
  }
  deriving (Prelude.Eq, Prelude.Read, Prelude.Show, Prelude.Generic)

-- |
-- Create a value of 'DimensionGroup' with all optional fields omitted.
--
-- Use <https://hackage.haskell.org/package/generic-lens generic-lens> or <https://hackage.haskell.org/package/optics optics> to modify other optional fields.
--
-- The following record fields are available, with the corresponding lenses provided
-- for backwards compatibility:
--
-- 'dimensions', 'dimensionGroup_dimensions' - A list of specific dimensions from a dimension group. If this parameter
-- is not present, then it signifies that all of the dimensions in the
-- group were requested, or are present in the response.
--
-- Valid values for elements in the @Dimensions@ array are:
--
-- -   @db.application.name@ - The name of the application that is
--     connected to the database (only Aurora PostgreSQL and RDS
--     PostgreSQL)
--
-- -   @db.host.id@ - The host ID of the connected client (all engines)
--
-- -   @db.host.name@ - The host name of the connected client (all engines)
--
-- -   @db.name@ - The name of the database to which the client is
--     connected (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS
--     MySQL, and MariaDB)
--
-- -   @db.session_type.name@ - The type of the current session (only
--     Aurora PostgreSQL and RDS PostgreSQL)
--
-- -   @db.sql.id@ - The SQL ID generated by Performance Insights (all
--     engines)
--
-- -   @db.sql.db_id@ - The SQL ID generated by the database (all engines)
--
-- -   @db.sql.statement@ - The SQL text that is being executed (all
--     engines)
--
-- -   @db.sql.tokenized_id@
--
-- -   @db.sql_tokenized.id@ - The SQL digest ID generated by Performance
--     Insights (all engines)
--
-- -   @db.sql_tokenized.db_id@ - SQL digest ID generated by the database
--     (all engines)
--
-- -   @db.sql_tokenized.statement@ - The SQL digest text (all engines)
--
-- -   @db.user.id@ - The ID of the user logged in to the database (all
--     engines)
--
-- -   @db.user.name@ - The name of the user logged in to the database (all
--     engines)
--
-- -   @db.wait_event.name@ - The event for which the backend is waiting
--     (all engines)
--
-- -   @db.wait_event.type@ - The type of event for which the backend is
--     waiting (all engines)
--
-- -   @db.wait_event_type.name@ - The name of the event type for which the
--     backend is waiting (all engines)
--
-- 'limit', 'dimensionGroup_limit' - The maximum number of items to fetch for this dimension group.
--
-- 'group'', 'dimensionGroup_group' - The name of the dimension group. Valid values are:
--
-- -   @db@ - The name of the database to which the client is connected
--     (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS MySQL,
--     and MariaDB)
--
-- -   @db.application@ - The name of the application that is connected to
--     the database (only Aurora PostgreSQL and RDS PostgreSQL)
--
-- -   @db.host@ - The host name of the connected client (all engines)
--
-- -   @db.session_type@ - The type of the current session (only Aurora
--     PostgreSQL and RDS PostgreSQL)
--
-- -   @db.sql@ - The SQL that is currently executing (all engines)
--
-- -   @db.sql_tokenized@ - The SQL digest (all engines)
--
-- -   @db.wait_event@ - The event for which the database backend is
--     waiting (all engines)
--
-- -   @db.wait_event_type@ - The type of event for which the database
--     backend is waiting (all engines)
--
-- -   @db.user@ - The user logged in to the database (all engines)
newDimensionGroup ::
  -- | 'group''
  Prelude.Text ->
  DimensionGroup
newDimensionGroup pGroup_ =
  DimensionGroup'
    { dimensions = Prelude.Nothing,
      limit = Prelude.Nothing,
      group' = pGroup_
    }

-- | A list of specific dimensions from a dimension group. If this parameter
-- is not present, then it signifies that all of the dimensions in the
-- group were requested, or are present in the response.
--
-- Valid values for elements in the @Dimensions@ array are:
--
-- -   @db.application.name@ - The name of the application that is
--     connected to the database (only Aurora PostgreSQL and RDS
--     PostgreSQL)
--
-- -   @db.host.id@ - The host ID of the connected client (all engines)
--
-- -   @db.host.name@ - The host name of the connected client (all engines)
--
-- -   @db.name@ - The name of the database to which the client is
--     connected (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS
--     MySQL, and MariaDB)
--
-- -   @db.session_type.name@ - The type of the current session (only
--     Aurora PostgreSQL and RDS PostgreSQL)
--
-- -   @db.sql.id@ - The SQL ID generated by Performance Insights (all
--     engines)
--
-- -   @db.sql.db_id@ - The SQL ID generated by the database (all engines)
--
-- -   @db.sql.statement@ - The SQL text that is being executed (all
--     engines)
--
-- -   @db.sql.tokenized_id@
--
-- -   @db.sql_tokenized.id@ - The SQL digest ID generated by Performance
--     Insights (all engines)
--
-- -   @db.sql_tokenized.db_id@ - SQL digest ID generated by the database
--     (all engines)
--
-- -   @db.sql_tokenized.statement@ - The SQL digest text (all engines)
--
-- -   @db.user.id@ - The ID of the user logged in to the database (all
--     engines)
--
-- -   @db.user.name@ - The name of the user logged in to the database (all
--     engines)
--
-- -   @db.wait_event.name@ - The event for which the backend is waiting
--     (all engines)
--
-- -   @db.wait_event.type@ - The type of event for which the backend is
--     waiting (all engines)
--
-- -   @db.wait_event_type.name@ - The name of the event type for which the
--     backend is waiting (all engines)
dimensionGroup_dimensions :: Lens.Lens' DimensionGroup (Prelude.Maybe (Prelude.NonEmpty Prelude.Text))
dimensionGroup_dimensions = Lens.lens (\DimensionGroup' {dimensions} -> dimensions) (\s@DimensionGroup' {} a -> s {dimensions = a} :: DimensionGroup) Prelude.. Lens.mapping Lens.coerced

-- | The maximum number of items to fetch for this dimension group.
dimensionGroup_limit :: Lens.Lens' DimensionGroup (Prelude.Maybe Prelude.Natural)
dimensionGroup_limit = Lens.lens (\DimensionGroup' {limit} -> limit) (\s@DimensionGroup' {} a -> s {limit = a} :: DimensionGroup)

-- | The name of the dimension group. Valid values are:
--
-- -   @db@ - The name of the database to which the client is connected
--     (only Aurora PostgreSQL, RDS PostgreSQL, Aurora MySQL, RDS MySQL,
--     and MariaDB)
--
-- -   @db.application@ - The name of the application that is connected to
--     the database (only Aurora PostgreSQL and RDS PostgreSQL)
--
-- -   @db.host@ - The host name of the connected client (all engines)
--
-- -   @db.session_type@ - The type of the current session (only Aurora
--     PostgreSQL and RDS PostgreSQL)
--
-- -   @db.sql@ - The SQL that is currently executing (all engines)
--
-- -   @db.sql_tokenized@ - The SQL digest (all engines)
--
-- -   @db.wait_event@ - The event for which the database backend is
--     waiting (all engines)
--
-- -   @db.wait_event_type@ - The type of event for which the database
--     backend is waiting (all engines)
--
-- -   @db.user@ - The user logged in to the database (all engines)
dimensionGroup_group :: Lens.Lens' DimensionGroup Prelude.Text
dimensionGroup_group = Lens.lens (\DimensionGroup' {group'} -> group') (\s@DimensionGroup' {} a -> s {group' = a} :: DimensionGroup)

instance Prelude.Hashable DimensionGroup where
  hashWithSalt _salt DimensionGroup' {..} =
    _salt `Prelude.hashWithSalt` dimensions
      `Prelude.hashWithSalt` limit
      `Prelude.hashWithSalt` group'

instance Prelude.NFData DimensionGroup where
  rnf DimensionGroup' {..} =
    Prelude.rnf dimensions
      `Prelude.seq` Prelude.rnf limit
      `Prelude.seq` Prelude.rnf group'

instance Core.ToJSON DimensionGroup where
  toJSON DimensionGroup' {..} =
    Core.object
      ( Prelude.catMaybes
          [ ("Dimensions" Core..=) Prelude.<$> dimensions,
            ("Limit" Core..=) Prelude.<$> limit,
            Prelude.Just ("Group" Core..= group')
          ]
      )
